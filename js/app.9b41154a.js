(function(){"use strict";var t={2370:function(t,e,i){var n=i(9242),l=i(3396);function s(t,e){const i=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(i)}var a=i(89);const r={},o=(0,a.Z)(r,[["render",s]]);var h=o,d=i(2483),c=i(7139);const u={class:"home"},g={id:"Gaussian_Blur"},p={in:"SourceGraphic"},m=["dur"],f=(0,l._)("filter",{id:"Initial_Blur"},[(0,l._)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0"})],-1),y=["x","y","width","height"],S=["transform"],x=(0,l._)("div",{xmlns:"http://www.w3.org/1999/xhtml",class:"link-container"},[(0,l._)("a",{href:"mailto:globalmetro@163.com?subject=Metro Line Issue Found_[date]&body=Mistakes: "}," Email us for any mistakes. ")],-1),w=[x],C=["transform"],b=(0,l._)("div",{xmlns:"http://www.w3.org/1999/xhtml",class:"link-container"},[(0,l._)("a",{href:"https://zh.wikipedia.org/zh-hans/%E5%9C%B0%E9%90%B5%E5%88%97%E8%A1%A8",target:"_blank"}," Data from Wikipedia | List of Metro Systems ")],-1),k=[b],H=["width","height"],v=["transform"];function W(t,e,i,n,s,a){const r=(0,l.up)("Title"),o=(0,l.up)("Timeline"),h=(0,l.up)("Squares"),d=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)("svg",u,[(0,l._)("defs",null,[(0,l._)("filter",g,[(0,l._)("feGaussianBlur",p,[(0,l._)("animate",{attributeName:"stdDeviation",values:"0;0.5;2;4",dur:t.duration/1e3+"s",calcMode:"paced",fill:"freeze"},null,8,m)])]),f]),(0,l.Wm)(r,{filter:null===t.citySelected?"url(#Initial_Blur)":"url(#Gaussian_Blur)",opacity:null===t.citySelected?1:.5,transform:`translate(${a.paddingX}, ${a.paddingY})`,width:a.innerWidth,height:a.titleHeight,totalHeight:s.height,totalWidth:s.width},null,8,["filter","opacity","transform","width","height","totalHeight","totalWidth"]),null!==t.data?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[null===t.citySelected?((0,l.wg)(),(0,l.j4)(o,{key:0,transform:`translate(${a.paddingX}, ${a.paddingY+a.titleHeight+0*a.timelineHeight})`,width:a.innerWidth,height:.5*a.timelineHeight,paddingX:a.paddingX,totalHeight:s.height,totalWidth:s.width},null,8,["transform","width","height","paddingX","totalHeight","totalWidth"])):(0,l.kq)("",!0),(0,l.Wm)(h,{filter:null===t.citySelected?"url(#Initial_Blur)":"url(#Gaussian_Blur)",transform:`translate(${a.paddingX}, ${a.paddingY+a.titleHeight+.5*a.timelineHeight})`,width:a.innerWidth,height:1.1*a.squaresHeight,globalX:a.paddingX,globalY:a.paddingY+a.titleHeight+a.timelineHeight,globalWidth:s.width,globalHeight:s.height},null,8,["filter","transform","width","height","globalX","globalY","globalWidth","globalHeight"])],64)):((0,l.wg)(),(0,l.iD)("foreignObject",{key:1,x:a.paddingX,y:a.paddingY+a.titleHeight,width:a.innerWidth,height:a.timelineHeight+a.squaresHeight},[(0,l.wy)((0,l._)("div",{style:(0,c.j5)({width:"100%",height:a.titleHeight+a.timelineHeight+a.squaresHeight+"px"})},null,4),[[d,!0]])],8,y)),((0,l.wg)(),(0,l.iD)("foreignObject",{transform:`translate(${.88*a.innerWidth}, ${a.paddingY+a.titleHeight+a.timelineHeight+a.squaresHeight})`,style:(0,c.j5)({color:"white",fontSize:.005*a.innerWidth,width:.12*a.innerWidth+"px",height:.05*a.squaresHeight+"px"})},w,12,S)),((0,l.wg)(),(0,l.iD)("foreignObject",{transform:`translate(${.95*a.innerWidth}, ${a.paddingY+a.titleHeight+a.timelineHeight+a.squaresHeight})`,style:(0,c.j5)({color:"white",fontSize:.005*a.innerWidth,width:.12*a.innerWidth+"px",height:.05*a.squaresHeight+"px"})},k,12,C)),null!==t.citySelected?((0,l.wg)(),(0,l.iD)("rect",{key:2,id:"mask",x:0,y:0,width:2*a.innerWidth,height:2*a.innerHeight,fill:"black",opacity:"0.8"},null,8,H)):(0,l.kq)("",!0),(0,l._)("g",{id:"singleCity",transform:`translate(${a.paddingX}, ${a.paddingY+a.titleHeight+a.timelineHeight})`},null,8,v),null!==t.citySelected&&null===a.lineSelected?((0,l.wg)(),(0,l.j4)(o,{key:3,transform:`translate(${a.paddingX}, ${a.paddingY+a.titleHeight+0*a.timelineHeight})`,width:a.innerWidth,height:.5*a.timelineHeight,totalHeight:s.height,totalWidth:s.width,paddingX:a.paddingX,opacity:.7,"z-index":1},null,8,["transform","width","height","totalHeight","totalWidth","paddingX"])):(0,l.kq)("",!0)])}const T={id:"title"},A=["y","font-size"],L=["x","y","font-size"],B=["font-size"],z=["font-size"],E=["font-size"],M=["y","width","height"],V={style:{display:"flex","flex-direction":"row","align-items":"center"}},Y=["width","height"],q=["width","height","rx","ry"],R={class:"switch"},j=["href","transform"],O=["href","transform"],F=["y","font-size"],X=["x","href","height","width"],D=["x","href","height","width"];function N(t,e,i,n,s,a){const r=(0,l.up)("Search"),o=(0,l.up)("el-icon"),h=(0,l.up)("el-autocomplete");return(0,l.wg)(),(0,l.iD)("g",T,[(0,l._)("text",{class:"maintitle",y:.15*a.titleFontsize,"dominant-baseline":"hanging","font-size":a.titleFontsize,"font-family":"HelveticaNeue","font-weight":"bold",style:{fill:"white"}},"Global Metro Line Development History",8,A),(0,l._)("text",{class:"additionalInfoText",x:20*a.titleFontsize,y:.15*a.titleFontsize+.8*a.titleFontsize,"dominant-baseline":"baseline","font-size":a.infoFontSize,"font-family":"HelveticaNeue",style:{fill:"white"}},[(0,l.Uk)(" In "),(0,l._)("tspan",{"font-size":a.titleFontsize},(0,c.zw)(null===t.timeRange?2023:new Date(t.timeRange[1]).getFullYear()),9,B),(0,l.Uk)(", "),(0,l._)("tspan",{"font-size":a.titleFontsize},(0,c.zw)(null===t.metroLinesCount?873:t.metroLinesCount),9,z),(0,l.Uk)(" metro lines were built in "),(0,l._)("tspan",{"font-size":a.titleFontsize},(0,c.zw)(null===t.citiesCount?213:t.citiesCount),9,E),(0,l.Uk)(" cities. ")],8,L),((0,l.wg)(),(0,l.iD)("foreignObject",{y:a.searchY,width:a.searchWidth1+a.marginSearchButton1+a.searchWidth2+a.marginSearchButton2+a.searchWidth3+a.marginSearchButton3+a.buttonWidth+a.buttonTextWidth,height:a.searchHeight},[(0,l._)("div",V,[(0,l.Wm)(h,{class:"search-box-continent",modelValue:s.searchTextContinent,"onUpdate:modelValue":e[0]||(e[0]=t=>s.searchTextContinent=t),"fetch-suggestions":a.getContinents,placeholder:"All Continents",onSelect:a.selectContinent,"trigger-on-focus":!0,style:(0,c.j5)({width:a.searchWidth1+"px",height:a.searchHeight+"px"}),"value-key":"name"},{suffix:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"el-input__icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1})])),default:(0,l.w5)((({item:t})=>[(0,l._)("div",null,(0,c.zw)(t.nameEn),1)])),_:1},8,["modelValue","fetch-suggestions","onSelect","style"]),(0,l.Wm)(h,{class:"search-box",modelValue:s.searchText,"onUpdate:modelValue":e[1]||(e[1]=t=>s.searchText=t),"fetch-suggestions":a.getCountries,placeholder:"All Countries",onSelect:a.selectCountry,"trigger-on-focus":!0,style:(0,c.j5)({width:a.searchWidth2+"px",height:a.searchHeight+"px",marginLeft:a.marginSearchButton1+"px"}),"value-key":"name"},{suffix:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"el-input__icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1})])),default:(0,l.w5)((({item:t})=>[(0,l._)("div",null,(0,c.zw)(t.nameEn),1)])),_:1},8,["modelValue","fetch-suggestions","onSelect","style"]),(0,l.Wm)(h,{class:"search-box-city",modelValue:s.searchTextCity,"onUpdate:modelValue":e[2]||(e[2]=t=>s.searchTextCity=t),"fetch-suggestions":a.getCities,placeholder:"All Cities",onSelect:a.selectCity,"trigger-on-focus":!0,style:(0,c.j5)({width:a.searchWidth3+"px",height:a.searchHeight+"px",marginLeft:a.marginSearchButton2+"px"}),"value-key":"name"},{suffix:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"el-input__icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1})])),default:(0,l.w5)((({item:t})=>[(0,l._)("div",null,(0,c.zw)(t.nameEn),1)])),_:1},8,["modelValue","fetch-suggestions","onSelect","style"]),((0,l.wg)(),(0,l.iD)("svg",{class:"switch-container",style:{"margin-left":"1em",cursor:"pointer"},width:a.buttonWidth,height:a.searchHeight,onClick:e[3]||(e[3]=(...t)=>a.toggleLineColor&&a.toggleLineColor(...t))},[(0,l._)("rect",{class:"background",x:1,y:1,width:a.buttonWidth-2,height:a.searchHeight-2,rx:.5*Math.min(a.buttonWidth-2,a.searchHeight-2),ry:.5*Math.min(a.buttonWidth-2,a.searchHeight-2),stroke:"#fff","stroke-width":"1"},null,8,q),(0,l._)("g",R,[(0,l._)("image",{href:s.logoRGB,transform:"translate(2, 2)",style:(0,c.j5)({width:Math.min(a.buttonWidth-4,a.searchHeight-4)+"px",height:Math.min(a.buttonWidth-4,a.searchHeight-4)+"px",opacity:1})},null,12,j),(0,l._)("image",{href:s.logoGray,transform:"translate(2, 2)",style:(0,c.j5)({width:Math.min(a.buttonWidth-4,a.searchHeight-4)+"px",height:Math.min(a.buttonWidth-4,a.searchHeight-4)+"px",opacity:0})},null,12,O)])],8,Y)),(0,l._)("span",{style:(0,c.j5)([{color:"#fff"},{fontSize:a.buttonTextFontSize+"px",marginLeft:.5*a.buttonTextFontSize+"px"}])},"Color Mode",4)])],8,M)),(0,l._)("text",{class:"subtitle",y:a.subtitleY,"dominant-baseline":"hanging","font-size":a.subtitleFontsize,"font-family":"HelveticaNeue","font-weight":"bold",style:{fill:"white"}},null,8,F),(0,l._)("image",{x:a.legendX4,href:s.legendfour,height:a.legendHeight4,width:a.legendWidth4},null,8,X),(0,l._)("image",{x:a.legendX5,href:s.legendfive,height:a.legendHeight5,width:a.legendWidth5},null,8,D)])}var U=i(7907),I=i(2748),Q=i(4870),P=i(65),G=i(2261);const J=i(3494),Z=i(5413),K=i(1752),$=i(6089),_=i(947),tt=i(8129),et=i(1553),it={name:"Title",data(){return{legendone:J,legendtwo:Z,legendthree:K,legendfour:$,legendfive:_,searchTextContinent:"",searchText:"",searchTextCity:"",isButtonClicked:!1,logoRGB:tt,logoGray:et}},components:{Search:I.olm,ElButton:G.ElButton,reactive:Q.qj},props:{width:{type:Number,default:0},height:{type:Number,default:0},totalWidth:{type:Number,default:0},totalHeight:{type:Number,default:0}},computed:{...(0,P.rn)({data:t=>t.data,continentSelected:t=>t.continentSelected,countrySelected:t=>t.countrySelected,citySelectedButton:t=>t.citySelectedButton,metroLinesCount:t=>t.metroLinesCount,citiesCount:t=>t.citiesCount,timeRange:t=>t.timeRange,isBlackClicked:t=>t.isBlackClicked}),infoFontSize(){return.5*this.titleFontsize},buttonTextFontSize(){return.6*this.searchHeight},buttonTextWidth(){return 10*this.buttonTextFontSize},continents(){return Array.from(new Set(this.data.map((t=>t["洲英文"].split(", ")[1]))))},countries(){return Array.from(new Set(this.data.map((t=>t["城市英文标准"].split(", ")[1]))))},cities(){return Array.from(new Set(this.data.map((t=>t["城市英文标准"].split(", ")[0]))))},titleFontsize(){return 25.45*this.totalHeight/1080},subtitleY(){return 27*this.totalHeight/1080},subtitleFontsize(){return 23.36*this.totalHeight/1080},legendX1(){return 600*this.totalWidth/1920},legendHeight1(){return 103*this.totalHeight/1080},legendWidth1(){return 330*this.totalWidth/1920},legendX2(){return 996*this.totalWidth/1920},legendHeight2(){return 103*this.totalHeight/1080},legendWidth2(){return 111*this.totalWidth/1920},legendX3(){return 1194*this.totalWidth/1920},legendHeight3(){return 103*this.totalHeight/1080},legendWidth3(){return 172*this.totalWidth/1920},legendX4(){return 1402*this.totalWidth/1920},legendHeight4(){return 101*this.totalHeight*.86/1080;//!!!!! 104
},legendWidth4(){return 178*this.totalWidth/1920},legendX5(){return 1589*this.totalWidth/1920},legendHeight5(){return 101*this.totalHeight*.78/1080;//!!!!! 101
},legendWidth5(){return 171*this.totalWidth/1920},searchY(){return 50*this.totalHeight/1080},searchHeight(){return 34*this.totalHeight/1080},searchWidth(){return 688*this.totalWidth/1920},searchWidth1(){return 300*this.totalWidth/1920},marginSearchButton1(){return 10*this.totalWidth/1920},searchWidth2(){return 300*this.totalWidth/1920},marginSearchButton2(){return 10*this.totalWidth/1920},searchWidth3(){return 300*this.totalWidth/1920},marginSearchButton3(){return 20*this.totalWidth/1920},buttonWidth(){return 65*this.totalWidth/1920}},methods:{...(0,P.nv)(["updateContinentSelected","updateCountrySelected","updateCitySelectedButton","updateMetroLinesCount","updateCitiesCount","updateTimeRange"]),getContinents(t,e){let i=this.continents.map((t=>{const e=this.data.find((e=>e["洲英文"].split(", ")[1]===t));return{nameEn:t,nameCn:e["洲"].split(" ")[0]}}));null!==this.countrySelected&&(i=i.filter((t=>this.data.find((e=>e["城市英文标准"].split(", ")[1]===this.countrySelected&&e["洲英文"].split(", ")[1]===t.nameEn))))),null!==this.citySelectedButton&&(i=i.filter((t=>this.data.find((e=>e["城市英文标准"].split(", ")[0]===this.citySelectedButton&&e["洲英文"].split(", ")[1]===t.nameEn)))));const n=i.filter((e=>e.nameEn.toLowerCase().includes(t.toLowerCase())||e.nameCn.includes(t)));n.unshift({nameEn:"All Continents",nameCn:"全部洲"}),e(n)},selectContinent(t){this.updateContinentSelected("All Continents"===t.nameEn?null:t.nameEn),this.searchTextContinent="All Continents"===t.nameEn?"":t.nameEn},getCountries(t,e){let i=this.countries.map((t=>{const e=this.data.find((e=>e["城市英文标准"].split(", ")[1]===t));return{nameEn:t,nameCn:e["城市名称"].split(" ")[0]}}));null!==this.continentSelected&&(i=i.filter((t=>this.data.find((e=>e["洲英文"].split(", ")[1]===this.continentSelected&&e["洲英文"].split(", ")[0]===t.nameEn))))),null!==this.citySelectedButton&&(i=i.filter((t=>this.data.find((e=>e["城市英文标准"].split(", ")[0]===this.citySelectedButton&&e["洲英文"].split(", ")[0]===t.nameEn)))));const n=i.filter((e=>e.nameEn.toLowerCase().includes(t.toLowerCase())||e.nameCn.includes(t)));n.unshift({nameEn:"All Countries",nameCn:"全部国家"}),e(n)},selectCountry(t){this.updateCountrySelected("All Countries"===t.nameEn?null:t.nameEn),this.searchText="All Countries"===t.nameEn?"":t.nameEn},getCities(t,e){let i=this.cities.map((t=>{const e=this.data.find((e=>e["城市英文标准"].split(", ")[0]===t));return{nameEn:t,nameCn:e["城市"].split(" ")[0]}}));null!==this.continentSelected&&(i=i.filter((t=>this.data.find((e=>e["洲英文"].split(", ")[1]===this.continentSelected&&e["城市英文标准"].split(", ")[0]===t.nameEn))))),null!==this.countrySelected&&(i=i.filter((t=>this.data.find((e=>e["城市英文标准"].split(", ")[1]===this.countrySelected&&e["城市英文标准"].split(", ")[0]===t.nameEn)))));const n=i.filter((e=>e.nameEn.toLowerCase().includes(t.toLowerCase())||e.nameCn.includes(t)));n.unshift({nameEn:"All Cities",nameCn:"全部城市"}),e(n)},selectCity(t){this.updateCitySelectedButton("All Cities"===t.nameEn?null:t.nameEn),this.searchTextCity="All Cities"===t.nameEn?"":t.nameEn},toggleLineColor(){const t=U.Ys(this.$el).select(".switch").selectAll("image");let e=this.isBlackClicked?2:this.buttonWidth-2-Math.min(this.buttonWidth-4,this.searchHeight-4);t.transition().duration(300).attr("x",e).each(((t,e,i)=>{const n=U.Ys(i[e]);1===e?n.style("opacity",this.isBlackClicked?0:1):n.style("opacity",this.isBlackClicked?1:0)})),this.$store.dispatch("updateIsBlackClicked",!this.$store.state.isBlackClicked)}},mounted(){},watch:{searchTextContinent:{handler(t){""===t&&this.updateContinentSelected(null)}},searchText:{handler(t){""===t&&this.updateCountrySelected(null)}},searchTextCity:{handler(t){""===t&&this.updateCitySelectedButton(null)}}}},nt=()=>{(0,n.sj)((t=>({"165cc980":t.searchHeight-2+"px"})))},lt=it.setup;it.setup=lt?(t,e)=>(nt(),lt(t,e)):nt;var st=it;const at=(0,a.Z)(st,[["render",N]]);var rt=at;const ot={class:"timeline"};function ht(t,e,i,n,s,a){return(0,l.wg)(),(0,l.iD)("g",ot)}var dt={name:"Timeline",props:{width:{type:Number,default:0},height:{type:Number,default:0},paddingX:{type:Number,default:0},totalWidth:{type:Number,default:0},totalHeight:{type:Number,default:0}},data(){return{drag:null,carPath:"M27.996 13.6625C27.9833 13.5238 27.6603 10.2281 25.8078 6.89257C24.7025 4.90295 23.2814 3.31251 21.5832 2.16616C19.4549 0.728822 16.9044 0 14.003 0H3.31819C1.49185 0 0.00596582 1.45921 0.00596582 3.25236V6.6754C0.00198861 6.70978 0 6.74454 0 6.7793C0 6.81406 0.00198861 6.84882 0.00596582 6.8828V13.7457C0.00596582 15.5392 1.49185 16.9984 3.31819 16.9984H5.63572C5.65321 16.9992 5.67071 17 5.68821 17C5.70571 17 5.72321 16.9992 5.74032 16.9984H24.6882C26.5145 16.9984 28 15.5392 28 13.7457C28 13.718 27.9988 13.6902 27.996 13.6625Z M23.7141 7.02538H13.7822V5.27598H22.2831C22.311 5.27598 22.338 5.27441 22.3655 5.27246C22.8535 5.79857 23.3037 6.38405 23.7141 7.02578V7.02538Z M1.88086 13.7456V7.7002H4.75042V15.1568H3.31823C2.52557 15.1568 1.88126 14.5236 1.88126 13.7456H1.88086Z M24.6878 15.1565H6.62528V6.77892C6.62528 6.27039 6.20568 5.85833 5.68785 5.85833H1.88086V3.25199C1.88086 2.47395 2.52517 1.84082 3.31783 1.84082H14.0026C16.34 1.84082 18.3994 2.37631 20.1315 3.43282H12.8449C12.327 3.43282 11.907 3.84528 11.907 4.35381V7.94481C11.907 8.45334 12.3266 8.8654 12.8449 8.8654H24.6274C24.6552 8.8654 24.6822 8.86384 24.7089 8.86189C25.8046 11.2683 26.0866 13.461 26.1236 13.7867C26.1009 14.5456 25.4654 15.1557 24.6874 15.1557L24.6878 15.1565Z"}},computed:{...(0,P.rn)({data:t=>t.data,timeRange:t=>t.timeRange,metroLinesCount:t=>t.metroLinesCount,citiesCount:t=>t.citiesCount}),size(){return{width:this.width,height:this.height}},timeRangeWhole(){const t=this.data.map((t=>{const e=t["地铁线路"];return e.map((t=>({name:t["线路"],date:new Date(t["首发时间"])})))})).flat().sort(((t,e)=>t.date-e.date));return[U.VV$(t,(t=>new Date(t.date))),U.Fp7(t,(t=>new Date(t.date)))]}},methods:{...(0,P.nv)(["updateTimeRange","updateTimelineOnDrag","updateMetroLinesCount","updateCitiesCount"]),calculateCounts(t){const e=this.data.map((e=>{const i=e["地铁线路"];return i.filter((e=>{const i=new Date(e["首发时间"]);return i>=t[0]&&i<=t[1]})).length})).reduce(((t,e)=>t+e),0),i=this.data.filter((e=>{const i=e["地铁线路"];return i.some((e=>{const i=new Date(e["首发时间"]);return i>=t[0]&&i<=t[1]}))})).length;this.updateMetroLinesCount(e),this.updateCitiesCount(i),console.log(`Current metro lines count: ${e}`),console.log(`Current cities count: ${i}`)},drawTimeline(){const t=this.timeRangeWhole,e=this.timeRange??t,i=U.Xf().domain(t).range([0,this.width]).clamp(!0),n=U.LLu(i).tickFormat((t=>t.getFullYear()%20===0?U.i$Z("%Y")(t):"")).tickValues(U.jBk.every(2).range(t[0],t[1])).tickSize(-3).tickSizeInner(-3).tickPadding(-15);let l=U.Ys(this.$el).selectAll(".axis");null===l.node()&&(l=U.Ys(this.$el).append("g").classed("axis",!0).attr("color","white")),l.html(""),l.call(n),l.selectAll(".tick text").style("font-size",11*this.totalHeight/1080+"px").style("font-family","SourceHanSansCN").style("font-weight","bold");let s=U.Ys(this.$el).select(".axis-clicking-area");null===s.node()&&(s=U.Ys(this.$el).append("rect").classed("axis-clicking-area",!0).attr("width",this.width).attr("height",10).attr("x",0).attr("y",-5).style("fill","transparent").style("cursor","pointer"));let a=U.Ys(this.$el).selectAll(".title");null===a.node()&&(a=U.Ys(this.$el).append("text").classed("title",!0).attr("text-anchor","middle")),a.style("font-size",11*this.totalHeight/1080+"px").attr("x",68*this.totalWidth/1920).attr("y",-26*this.totalHeight/1080).style("fill","white").style("font-weight","bold").attr("font-family","SourceHanSansCN").text("Construction Time (Years)");let r=U.Ys(this.$el).selectAll(".slider");null===r.node()&&(r=U.Ys(this.$el).append("circle").classed("slider",!0).attr("r",6).attr("cy",1).style("fill","black").style("stroke","white").style("stroke-width","2px").style("cursor","pointer")),r.attr("cx",i(e[1])),s.on("click",null),s.on("click",(e=>{let n=U.cx$(e,this.$el)[0],l=i.invert(n);const[s,a]=i.range();n<s?(n=s,l=i.invert(s)):n>a&&(n=a,l=i.invert(a)),r.attr("cx",n),this.updateTimeRange([t[0],l]),this.calculateCounts([t[0],l])})),this.drag=U.ohM().on("start",(()=>{this.updateTimelineOnDrag(!0)})).on("drag",(e=>{let n=U.cx$(e,this.$el)[0],l=i.invert(n);const[s,a]=i.range();n<s?(n=s,l=i.invert(s)):n>a&&(n=a,l=i.invert(a)),r.attr("cx",n),this.updateTimeRange([t[0],l]),this.calculateCounts([t[0],l])})).on("end",(()=>{this.updateTimelineOnDrag(!1)})),r.call(this.drag)}},mounted(){this.drawTimeline()},watch:{size:{handler(){this.drawTimeline()}}}};const ct=(0,a.Z)(dt,[["render",ht]]);var ut=ct;const gt={class:"squares"};function pt(t,e,i,n,s,a){const r=(0,l.up)("Square");return(0,l.wg)(),(0,l.iD)("g",gt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.sortedCities,((e,n)=>((0,l.wg)(),(0,l.j4)(r,{key:e["城市名称"],datum:e,width:s.squareSize,height:s.squareSize,textSize:s.textSize,transform:a.getTransform(n),globalX:i.globalX,globalY:i.globalY,globalWidth:i.globalWidth,globalHeight:i.globalHeight,popout:t.citySelected===e["城市名称"]},null,8,["datum","width","height","textSize","transform","globalX","globalY","globalWidth","globalHeight","popout"])))),128))])}const mt=["id","transform"],ft={class:"back",ref:"back"},yt={class:"square-unit",ref:"unit"},St={class:"button",ref:"button"};function xt(t,e,i,n,s,a){return(0,l.wg)(),(0,l.j4)(l.lR,{disabled:!i.popout,to:"#singleCity"},[(0,l._)("g",{class:"square-wrapper",id:i.datum["城市名称"],transform:i.transform,ref:"wrapper"},[(0,l._)("g",ft,null,512),(0,l._)("g",yt,null,512),(0,l._)("g",St,null,512)],8,mt)],8,["disabled"])}class wt{constructor(t,e){this.x=t,this.y=e}toString(){const t=2;return`(${this.x.toFixed(t)}, ${this.y.toFixed(t)})`}distanceToPoint(t){return Math.sqrt((t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y))}distanceToLine(t,e=1e-13){const i=Math.abs(t.A*this.x+t.B*this.y+t.C)/Math.sqrt(t.A*t.A+t.B*t.B);return i<e?0:i}projectionOnLine(t){const e=t.A,i=t.B,n=t.C,l=this.x,s=this.y,a=(i*(i*l-e*s)-e*n)/(e*e+i*i),r=(e*(-i*l+e*s)-i*n)/(e*e+i*i);return new wt(a,r)}}class Ct{constructor(t,e,i=null,n=null){this.start=t,this.end=e,this.middle1=i,this.middle2=n}toString(){return`${this.start.toString()} -> ${this.end.toString()}`}length(){return this.start.distanceToPoint(this.end)}length_curve1(){return this.middle1.distanceToPoint(this.start)}length_curve2(){return this.middle1.distanceToPoint(this.end)}intersectionWithLine(t){const e=t.A,i=t.B,n=t.C,l=this.start.x,s=this.start.y,a=this.end.x,r=this.end.y,o={x:a-l,y:r-s},h=-(e*l+i*s+n)/(e*o.x+i*o.y);return h>=0&&h<=1?new wt(l+h*o.x,s+h*o.y):null}extension(t){const e=this.start.x,i=this.start.y,n=this.end.x,l=this.end.y,s={x:n-e,y:l-i};console.log(s);const a=Math.sqrt(s.x*s.x+s.y*s.y);console.log(a);const r=e-s.x/a*t,o=i-s.y/a*t,h=n+s.x/a*t,d=l+s.y/a*t;return new Ct(new wt(r,o),new wt(h,d))}extension_curve(t,e){const i=this.middle1.x,n=this.middle1.y,l=this.start.x,s=this.start.y,a=this.end.x,r=this.end.y,o={x11:i-l,y11:n-s},h={x22:a-i,y22:r-n},d=Math.sqrt(o.x11*o.x11+o.y11*o.y11),c=Math.sqrt(h.x22*h.x22+h.y22*h.y22),u=(o.x11,o.y11,l-o.x11/d*t),g=s-o.y11/d*t,p=(h.x22,h.y22,a+h.x22/c*e),m=r+h.y22/c*e;return new Ct(new wt(u,g),new wt(p,m),new wt(i,n))}}class bt{constructor(t,e,i){this.A=t,this.B=e,this.C=i}toString(){const t=2;return`${this.A.toFixed(t)}x + ${this.B.toFixed(t)}y + ${this.C.toFixed(t)} = 0`}static createFromPoints(t,e){const i=e.y-t.y,n=t.x-e.x,l=e.x*t.y-t.x*e.y;return new bt(i,n,l)}static createParallelLineThroughPoint(t,e){const i=t.A,n=t.B,l=-t.A*e.x-t.B*e.y;return new bt(i,n,l)}intersection(t){const e=this.A,i=this.B,n=this.C,l=t.A,s=t.B,a=t.C,r=e*s-l*i;if(0===r)return null;const o=(s*n-i*a)/r,h=(e*a-l*n)/r;return new wt(o,h)}}i(560);const kt={svg:null};function Ht(t,e){const i=l(),n=this;function l(){const t=kt.svg||document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","0"),t.setAttribute("height","0"),t.style.float="left";const e=document.createElementNS("http://www.w3.org/2000/svg","text");return t.appendChild(e),null===kt.svg&&(document.body.insertBefore(t,document.body.firstChild),kt.svg=t),e}function s(t,e,l){e=e||n.fontSize,l=l||n.fontFamily,i.style.fontSize=e,i.style.fontFamily=l,i.innerHTML=t}function a(t,e,n,l){if(e<=0)return 0;s(t,n,l);let a=i.getBoundingClientRect().width;if(a<=e)return t.length;if(i.getEndPositionOfChar(0).x>e)return 0;let r=0,o=t.length-1;while(r<o){const t=Math.ceil((r+o)/2),n=i.getEndPositionOfChar(t).x;n<=e?r=t:o=t-1}return r+1}this.fontSize=t,this.fontFamily=e,this.visualWidth=function(t,e,n){return s(t,e,n),i.getBoundingClientRect().width},this.visualHeight=function(t,e,n){return s(t,e,n),i.getBoundingClientRect().height},this.truncate=function(t,e,i,n,l){const s=this.visualWidth(t,n,l);if(s<=e)return t;i=i||"...";const r=this.visualWidth(i,n,l),o=a(t,e-r,n,l);return 0===o?r<=e?i:"":t.slice(0,o)+i},this.wrap=function(t,e,i,n,l,s){n=n||"...";const r=this.visualWidth(n,l,s);let o=0;const h=[];while(o<t.length){const d=t.slice(o);if(h.length===i-1){const t=this.truncate(d,e,n,l,s);h.push(t);break}{let t=a(d,e,l,s);if(0===t){r<=e&&h.push(n);break}h.push(d.slice(0,t)),o+=t}}return h},this.lines2svg=function(t,e){return e=e||1.2*this.fontSize,t.map(((t,i)=>"<tspan x='0' dy='"+e*Math.min(i,1)+"'>"+t+"</tspan>")).join("")}}var vt=Ht,Wt={name:"Square",data(){return{svgTextLength:new vt,hoverLock:!1}},props:{datum:{type:Object,default:()=>{}},width:{type:Number,default:0},height:{type:Number,default:0},textSize:{type:Number,default:0},transform:{type:String,default:""},globalX:{type:Number,default:0},globalY:{type:Number,default:0},globalWidth:{type:Number,default:0},globalHeight:{type:Number,default:0},popout:{type:Boolean,default:!1}},computed:{...(0,P.rn)(["timeRange","duration","lineHovered","lineClicked","timelineOnDrag"]),lineSelected(){return this.popout?this.lineHovered??this.lineClicked:null},size(){return{width:this.width,height:this.height}},realWidth(){return this.popout?this.globalWidth:this.width},realHeight(){return this.popout?this.globalHeight:this.height},innerSize(){return Math.min(this.realWidth,this.realHeight)},strokeWidthScale(){const t=this.innerSize;return U.BYU().domain([0,2e-4,.005,.05,.5,1]).range([t/65,t/45,t/20,t/4,t/8*3,t/3])},radiusScale(){const t=this.innerSize;return U.BYU().domain([0,.001,.005,.05,.3,1]).range([t/10,t/8,t/4,t/3,t/2.5,t/2])},isBlackClicked(){return this.$store.state.isBlackClicked},continentSelected(){return this.$store.state.continentSelected},countrySelected(){return this.$store.state.countrySelected},citySelectedButton(){return this.$store.state.citySelectedButton}},methods:{...(0,P.nv)(["updateCityHovered","updateCitySelected","updateLineHovered","updateLineClicked"]),select(t,e,i){let n=t.select("."+e);return n.empty()&&(n=t.append(i).classed(e,!0)),n},getExitIcon(t,e){return`\n            <svg viewBox="0 0 1024 1024" width="${t}" height="${t}">\n                <path d="M143.616 47.104l830.08 830.08c26.24 26.24 26.24 69.888 0 96.128-26.24 26.24-69.888 26.24-96.128 0L47.488 143.232c-17.536-26.24-17.536-69.888 0-96.128 26.24-26.24 69.888-26.24 96.128 0z m0 0" fill="${e}"></path>\n                <path d="M982.528 143.232L152.32 973.312c-26.24 26.24-69.888 26.24-96.128 0-26.24-26.24-26.24-69.888 0-96.128L886.4 47.104c26.24-26.24 69.888-26.24 96.128 0 17.408 26.24 17.408 69.888 0 96.128z m0 0" fill="${e}"></path>\n            </svg>\n          `},draw(t,e,i=0){0!==this.innerSize&&(this.calculateLines(t,e),this.drawLines(t,e,i),this.drawBorder(t,e,i),this.popout?(this.hoverLock=!0,setTimeout((()=>{this.drawExitButton(t,e),this.hoverLock=!1}),i)):(this.hoverLock=!0,this.drawExitButton(t,e),this.updateLineHovered(null),this.updateLineClicked(null)))},drawBorder(t,e,i=0){const n=this.datum,l=this.textSize,s=U.Ys(this.$refs.unit),a=(t,e,i)=>{let n=t.select("."+e);return n.empty()&&(n=t.append(i).classed(e,!0)),n};this.popout?a(s,"border","rect").remove():a(s,"border","rect").attr("width",t).attr("height",e).style("fill","white").style("opacity","0").style("stroke-opacity","0").style("stroke","white").style("cursor","pointer").on("mouseover",(()=>{this.updateCityHovered(n["城市名称"]),s.transition().duration(200).attr("transform",`translate(${.1*-t}, ${.1*-e}) scale(1.28)`)})).on("mouseout",(()=>{this.updateCityHovered(null),s.transition().duration(200).attr("transform","translate(0, 0) scale(1)")})).on("click",(()=>{console.log(n["洲英文"].split(", ")[1]),console.log(n["洲英文"].split(", ")[0]),console.log(n["城市英文标准"].split(", ")[0]),console.log("countrySelected: "+this.countrySelected),this.isBlackClicked&&(null!=this.citySelectedButton&&n["城市英文标准"].split(", ")[0]!=this.citySelectedButton||null!=this.countrySelected&&n["洲英文"].split(", ")[0]!=this.countrySelected||null!=this.continentSelected&&n["洲英文"].split(", ")[1]!=this.continentSelected)?event.stopPropagation():this.updateCitySelected(n["城市名称"])}));const r=this.popout?.04*e:.2*l,o=(l-2*r)/3,h=this.popout?this.globalX:0,d=this.popout?r:e+o,c=this.popout?1.2*r:r+o,u=a(s,"city-nameen","text").attr("dominant-baseline","hanging").attr("fill","white").text(n["城市英文标准"].split(", ")[0]).style("font-family","HelveticaNeue").attr("font-size",r).attr("x",h).attr("y",d),g=a(s,"country-nameen","text").attr("dominant-baseline","hanging").attr("fill","white").text(n["城市英文标准"].split(", ")[1]).style("font-family","HelveticaNeue").attr("font-size",r).attr("x",h).attr("y",d+c/1.9),p=a(s,"city-title","g"),m=a(p,"city-nameen-all","text").attr("dominant-baseline","hanging").attr("fill","white").text(n["城市英文标准"]).style("font-family","HelveticaNeue"),f=n["地铁线路"].filter((t=>null===this.timeRange||new Date(t["首发时间"])<=this.timeRange[1])).length,y=this.timeRange?.[1]?.getFullYear?.()||"2023",S=a(p,"city-stat","text").attr("dominant-baseline","baseline").attr("fill","white").html(`In <tspan>${y}</tspan>, <tspan>${f}</tspan> metro lines were built.`).style("font-family","HelveticaNeue");this.popout?(u.attr("opacity",0),g.attr("opacity",0),m.transition().duration(i).attr("opacity",1).attr("font-size",1.2*r).attr("x",h).attr("y",d),S.transition().duration(i).attr("opacity",1).attr("font-size",.5*r).attr("x",h).attr("y",d+2.1*r),S.selectAll("tspan").transition().duration(i).attr("font-size",.8*r)):(u.transition().duration(i).attr("opacity",1),g.transition().duration(i).attr("opacity",1),m.attr("opacity",0).attr("font-size",0),S.attr("opacity",0).attr("font-size",0))},calculateLines(t,e){const i=this.datum,n=Math.min(t,e),l=new wt(parseFloat(i["经度"]),parseFloat(i["纬度"])),s=new wt(.5*t,.5*e),a=[new wt(0,0),new wt(t,0),new wt(t,e),new wt(0,e)],r=a.map(((t,e)=>{const i=a[(e+1)%a.length];return new Ct(t,i)})),o=this.datum["地铁线路"];o.forEach(((t,e)=>{t.idx=e}));const h=o.length<=3?.1:.6;o.sort(((t,e)=>{const i=t["归一化覆盖率"],n=e["归一化覆盖率"];return n-i}));let d=o.reduce(((t,e)=>{this.height,this.width;const i=new wt(parseFloat(e["起点站经度"]),parseFloat(e["起点站纬度"])),n=new wt(parseFloat(e["终点站经度"]),parseFloat(e["终点站纬度"]));if(e.realStart=i,e.realEnd=n,e["中间站1"]){const t=new wt(parseFloat(e["中间站1经度"]),parseFloat(e["中间站1纬度"]));e.realMiddle1=t,e.isCurve=!0}if(e["中间站1"]&&e["中间站2"]){const t=new wt(parseFloat(e["中间站1经度"]),parseFloat(e["中间站1纬度"])),i=new wt(parseFloat(e["中间站2经度"]),parseFloat(e["中间站2纬度"]));e.realMiddle1=t,e.realMiddle2=i,e.isCurve=!0}if(0===n.distanceToPoint(i))return e.isCircle=!0,e.legendCorner=a[3],t;const r=bt.createFromPoints(n,i),o=l.distanceToLine(r);let d,c=l.projectionOnLine(r);d=c.x<l.x&&c.y<l.y?a[0]:c.x>=l.x&&c.y<l.y?a[1]:c.x>=l.x&&c.y>=l.y?a[2]:a[3];let u=bt.createParallelLineThroughPoint(r,d);return e.isCircle=!1,e.realLine=r,e.legendCorner=d===a[0]||d===a[3]?a[2]:a[3],Math.min(t,s.distanceToLine(u)*h/o)}),1/0);d===1/0&&(d=1),o.forEach((t=>{if(t.isCircle)t.center=s;else{const e=t.realLine,i=l.projectionOnLine(e),a=new wt(s.x+(i.x-l.x)*d,s.y+(i.y-l.y)*d),o=bt.createParallelLineThroughPoint(e,a),h=r.map((t=>t.intersectionWithLine(o))).filter((t=>null!==t));let c=null;t.realMiddle1&&!t.realMiddle2?(c=new wt((t.realMiddle1.x-l.x)*d+s.x,(t.realMiddle1.y-l.y)*d+s.y),t.lineSegment=new Ct(h[0],h[1],c),t.lineSegment=t.lineSegment.extension_curve(.4*n,.2*n)):(t.lineSegment=new Ct(...h),t.lineSegment=t.lineSegment.extension(.2*n))}}))},drawLines(t,e,i=0){const n=this.datum,l=n["城市名称"].replace(" ","-"),s=this.select,a=this.timeRange,r=`square-clip-path-${l}`,o=U.Ys(this.$refs.unit),h=U.Ys(this.$refs.back),d=s(o,"clip-path-defs","defs"),c=s(d,"clip","clipPath").attr("id",r),u=s(c,"rect","rect");i>0?u.transition().duration(i).attr("width",t).attr("height",e):u.attr("width",t).attr("height",e);const g=this.strokeWidthScale,p=this.radiusScale,m=this.svgTextLength;o.selectAll(".line").data(n["地铁线路"],(t=>t.idx)).join("g").classed("line",!0).each(((r,o,d)=>{const c=U.Ys(d[o]).attr("id",`${l}-${r["线路"]}-${r.idx}`);let u,f,y;if(void 0!==r["首发时间"]){const t=new Date(r["首发时间"]);u=null===a||a[0]<=t&&t<=a[1]}else u=!0;if(this.isBlackClicked?(f="white",y=u?.75:0,y=null!==this.citySelectedButton&&this.citySelectedButton===n["城市英文标准"].split(", ")[0]||null===this.citySelectedButton&&null!==this.countrySelected&&this.countrySelected===n["城市英文标准"].split(", ")[1]||null===this.citySelectedButton&&null===this.countrySelected&&null!==this.continentSelected&&this.continentSelected===n["洲英文"].split(", ")[1]?u?.75:0:null===this.continentSelected&&null===this.countrySelected&&null===this.citySelectedButton&&u?.75:0):null!==this.citySelectedButton&&this.citySelectedButton===n["城市英文标准"].split(", ")[0]||null===this.citySelectedButton&&null!==this.countrySelected&&this.countrySelected===n["城市英文标准"].split(", ")[1]||null===this.citySelectedButton&&null===this.countrySelected&&null!==this.continentSelected&&this.continentSelected===n["洲英文"].split(", ")[1]||null===this.continentSelected&&null===this.countrySelected&&null===this.citySelectedButton?(f=r.color,y=u?.95:0):(f="white",y=u?.75:0),r.isCircle){const t=p(r["归一化覆盖率"]),e=s(c,"circle-extension","circle").style("fill","none").style("stroke",f).style("stroke-opacity",y).attr("clip-path",`url(#square-clip-path-${l})`);i>0?e.transition().duration(i).attr("cx",r.center.x).attr("cy",r.center.y).attr("r",t).style("stroke-width",g(r["归一化覆盖率"])):e.attr("cx",r.center.x).attr("cy",r.center.y).attr("r",t).style("stroke-width",g(r["归一化覆盖率"]))}else if(r.isCurve){const t=r.lineSegment,e=t.start.x<t.end.x?t.start:t.end,n=t.start.x<t.end.x?t.end:t.start,a=t.middle1;if(t.middle2){const i=t.middle2;var S=[e,a,i,n]}else S=[e,a,n];const o=U.jvg().x((t=>t.x)).y((t=>t.y)),h=s(c,"line-extension","path").style("fill","none").style("stroke",f).style("stroke-opacity",y).style("stroke-linecap","suqare").attr("clip-path",`url(#square-clip-path-${l})`);i>0?h.transition().duration(i).attr("d",o(S)).style("stroke-width",g(r["归一化覆盖率"])):h.attr("d",o(S)).style("stroke-width",g(r["归一化覆盖率"]))}else{const t=r.lineSegment,e=t.start.x<t.end.x?t.start:t.end,n=t.start.x<t.end.x?t.end:t.start,a=s(c,"line-extension","line").style("stroke",f).style("stroke-opacity",y).style("stroke-linecap","square").attr("clip-path",`url(#square-clip-path-${l})`);i>0?a.transition().duration(i).attr("x1",e.x).attr("y1",e.y).attr("x2",n.x).attr("y2",n.y).style("stroke-width",g(r["归一化覆盖率"])):a.attr("x1",e.x).attr("y1",e.y).attr("x2",n.x).attr("y2",n.y).style("stroke-width",g(r["归一化覆盖率"]))}if(this.popout?c.style("cursor",u?"pointer":null).on("mouseover",(()=>{this.hoverLock||!u||this.timelineOnDrag||this.updateLineHovered(r.idx)})).on("mouseout",(()=>{this.hoverLock||!u||this.timelineOnDrag||this.updateLineHovered(null)})).on("click",(()=>{this.hoverLock||!u||this.timelineOnDrag||this.updateLineClicked(this.lineClicked===r.idx?null:r.idx)})):c.style("cursor",null).on("mouseover",null).on("mouseout",null).on("click",null),this.popout){const n=`${r["线路英文名"]}`,a=.02*Math.min(t,e),o=m.visualWidth(n,a),d=r.isCircle?o:r.lineSegment.length(),f=(.5*g(r["归一化覆盖率"])+.5*a)/2;let y=s(h,"detail-path-"+r.idx,"path").attr("opacity",0).attr("id",`${l}-${r.idx}-line`);if(r.isCircle){const t=p(r["归一化覆盖率"])+.5*g(r["归一化覆盖率"]),e=r.center,i=.5*o/t,n=t*Math.sin(i),l=t*Math.cos(i),s=e.x-n,a=e.y-l,h=e.x+n,d=e.y+l;y.attr("d",`M${s} ${a} A${t} ${t} 0 0 1 ${h} ${d} A${t} ${t} 0 0 1 ${s} ${a}`)}else if(r.isCurve){const t=r.lineSegment.start.x<r.lineSegment.end.x?r.lineSegment.start:r.lineSegment.end,e=(r.lineSegment.start.x<r.lineSegment.end.x?r.lineSegment.end:r.lineSegment.start,r.lineSegment.middle1);y.attr("d",`M${t.x} ${t.y} L${e.x} ${e.y}`)}else{const t=r.lineSegment.start.x<r.lineSegment.end.x?r.lineSegment.start:r.lineSegment.end,e=r.lineSegment.start.x<r.lineSegment.end.x?r.lineSegment.end:r.lineSegment.start;y.attr("d",`M${t.x} ${t.y} L${e.x} ${e.y}`)}let S=u?.45:0;const x=s(c,`detail-${r.idx}-border`,"text").attr("class",`detail-${r.idx}-border`).attr("font-size",.8*a).attr("dy",f).attr("fill","white").attr("opacity",S).style("letter-spacing","5px");setTimeout((()=>{s(x,`detail-path-${r.idx}-border`,"textPath").attr("xlink:href",`#${l}-${r.idx}-line`).attr("startOffset",(d-o)/3.5).html(n).style("font-family","HelveticaNeue").style("font-weight","400").style("opacity",1)}),i)}}))},drawExitButton(t,e){const i=.03*Math.min(t,e),n=this.select,l=U.Ys(this.$refs.button).attr("transform",`translate(${t-2.5*i}, ${i})`),s=n(l,"exit","g");this.popout?(s.style("cursor","pointer").on("mouseover",(()=>{s.selectAll("path").transition().duration(300).attr("fill","#aaa")})).on("mouseout",(()=>{s.selectAll("path").transition().duration(300).attr("fill","#fff")})).on("click",(()=>{this.updateCitySelected(null)})),n(s,"back","rect").attr("width",i).attr("height",i).attr("opacity",0),n(s,"exit-icon","g").html(this.getExitIcon(i,"#fff")).style("opacity",.8)):s.remove()},updateTransform(t){let e;e=this.popout?`translate(${-this.globalX}, ${-this.globalY})`:this.transform,this.$refs.unit.setAttribute("transform",""),U.Ys(this.$refs.wrapper).transition().duration(t).attr("transform",e)},updateLines(t,e){const i=U.Ys(this.$refs.unit),n=(U.Ys(this.$refs.back),this.lineHovered??this.lineClicked),l=.2,s=this.select,a=(this.strokeWidthScale,this.radiusScale,this.datum),r=(a["城市名称"].replace(" ","-"),this.svgTextLength);null===n?(i.selectAll(".line").style("opacity",1),s(i,"info","text").remove()):i.selectAll(".line").style("opacity",(t=>t.idx===n?1:l)).each((l=>{if(l.idx===n){const n=.016*Math.min(t,e),a=["线路英文名","首发时间","起点站","终点站","车站数","长度（千米）"],o={"线路英文名":"Line Name","首发时间":"Start Time","起点站":"Start Station","终点站":"End Station","车站数":"Number of Stations","长度（千米）":"Length (km)"},h={};for(let t of a){const e=o[t];h[e]=l[t]}const d=JSON.stringify(h,null,4).split("\n").map((t=>t.replaceAll(" ","&nbsp;"))),c=Math.max(...d.map((t=>r.visualWidth(t,n))))+2*n,u=d.length*n*1.2+2*n,g=0===l.legendCorner.x?2*n:l.legendCorner.x-c,p=l.legendCorner.y-u;s(i,"info","text").selectAll("tspan").data(d).join("tspan").attr("x",g).attr("y",((t,e)=>p+n*e*1.2)).attr("font-size",n).attr("dominant-baseline","hanging").attr("fill","#fff").html((t=>t)).style("font-family","HelveticaNeue")}}))}},mounted(){this.draw(this.realWidth,this.realHeight)},watch:{size:{handler(){this.draw(this.realWidth,this.realHeight),this.updateTransform(0)}},timeRange:{handler(){this.draw(this.realWidth,this.realHeight)}},popout:{handler(){this.draw(this.realWidth,this.realHeight,this.duration),this.updateTransform(this.duration),this.popout||this.$refs.unit.querySelectorAll("text").forEach((t=>{t.getAttribute("class").startsWith("detail-")&&t.remove()}))}},lineSelected(){setTimeout((()=>{this.updateLines(this.realWidth,this.realHeight),null!=this.lineSelected?this.datum["地铁线路"].forEach(((t,e)=>{const i=t.idx===this.lineSelected,n=this.$refs.unit.querySelector(`.detail-${t.idx}`),l=this.$refs.unit.querySelector(`.detail-${t.idx}-border`);n&&(n.style.display=i?"":"none",l.style.display=i?"":"none")})):this.datum["地铁线路"].forEach(((t,e)=>{const i=this.$refs.unit.querySelector(`.detail-${t.idx}`),n=this.$refs.unit.querySelector(`.detail-${t.idx}-border`);i&&(i.style.display="",n.style.display="")}))}),0)},isBlackClicked:{handler(){this.drawLines(this.realWidth,this.realHeight)},immediate:!0},continentSelected(){this.drawLines(this.realWidth,this.realHeight)},countrySelected(){this.drawLines(this.realWidth,this.realHeight)},citySelectedButton(){this.drawLines(this.realWidth,this.realHeight)}}};const Tt=(0,a.Z)(Wt,[["render",xt]]);var At=Tt,Lt=(i(4806),{name:"Squares",components:{Square:At},data(){return{rows:0,columns:0,squareSize:0,textSize:0,marginX:0,marginY:0}},props:{width:{type:Number,default:0},height:{type:Number,default:0},globalX:{type:Number,default:0},globalY:{type:Number,default:0},globalWidth:{type:Number,default:0},globalHeight:{type:Number,default:0}},computed:{...(0,P.rn)({timeRange:t=>t.timeRange,continentSelected:t=>t.continentSelected,countrySelected:t=>t.countrySelected,citySelectedButton:t=>t.citySelectedButton,cityHovered:t=>t.cityHovered,citySelected:t=>t.citySelected,data:t=>t.data}),...(0,P.Se)(["cities"]),sortedCities(){let t=this.cities;return t.sort(((t,e)=>{const i=t["loc_num"]||0,n=e["loc_num"]||0;return i-n})),t},size(){return{width:this.width,height:this.height}}},methods:{layout(){const t=this.width,e=this.height;let i=26,n=9;const l=.031*t,s=(e-n*l)/n,a=.0078125*t;this.rows=n,this.columns=i,this.squareSize=l,this.textSize=s,this.marginX=a,this.marginY=s},getTransform(t){if(0===this.columns)return"translate(0, 0)";let e=t%this.columns*(this.squareSize+this.marginX),i=Math.floor(t/this.columns)*(this.squareSize+this.marginY);return`translate(${e}, ${i})`},hoverEvent(t){null===t?U.Ys(this.$el).selectAll(".square-wrapper").order():U.Ys(this.$el).selectAll(".square-wrapper").filter((function(){return this.getAttribute("id")===t})).raise()}},mounted(){this.layout()},watch:{size(){this.layout()},cityHovered(){this.hoverEvent(this.cityHovered)}}});const Bt=(0,a.Z)(Lt,[["render",pt]]);var zt=Bt;const Et=()=>document.getElementById("app").clientWidth,Mt=()=>document.getElementById("app").clientHeight;var Vt={name:"HomeView",components:{Title:rt,Timeline:ut,Squares:zt},data(){return{width:Et(),height:Mt()}},computed:{...(0,P.rn)(["data","citySelected","duration","lineHovered","lineClicked"]),lineSelected(){return this.lineHovered??this.lineClicked},paddingX(){return 45*this.width/1080},paddingY(){return 54*this.height/1080},titleHeight(){return 146*this.height/1080},timelineHeight(){return 54*this.height/1080},squaresHeight(){return this.height-2*this.paddingY-this.titleHeight-this.timelineHeight},innerWidth(){return this.width-2*this.paddingX},innerHeight(){return this.height-2*this.paddingY}},methods:{resize(){this.width=Et(),this.height=Mt()}},mounted(){window.addEventListener("resize",this.resize.bind(this))}};const Yt=(0,a.Z)(Vt,[["render",W]]);var qt=Yt;const Rt=[{path:"/",name:"home",component:qt}],jt=(0,d.p7)({history:(0,d.r5)(),routes:Rt});var Ot=jt;const Ft=(0,P.MT)({state:{data:null,continentSelected:null,countrySelected:null,citySelectedButton:null,cityHovered:null,citySelected:null,timeRange:null,duration:1e3,lineHovered:null,lineClicked:null,timelineOnDrag:!1,isBlackClicked:!1,metroLinesCount:null,citiesCount:null},getters:{cities(t){return t.data}},mutations:{updateData(t,e){t.data=e},updateContinentSelected(t,e){t.continentSelected=e},updateCountrySelected(t,e){t.countrySelected=e},updateCitySelectedButton(t,e){t.citySelectedButton=e},updateCityHovered(t,e){t.cityHovered=e},updateCitySelected(t,e){t.citySelected=e},updateTimeRange(t,e){t.timeRange=e},updateLineHovered(t,e){t.lineHovered=e},updateLineClicked(t,e){t.lineClicked=e},updateTimelineOnDrag(t,e){t.timelineOnDrag=e},updateIsBlackClicked(t,e){t.isBlackClicked=e},updateMetroLinesCount(t,e){t.metroLinesCount=e},updateCitiesCount(t,e){t.citiesCount=e}},actions:{updateData({commit:t},e){t("updateData",e)},updateContinentSelected({commit:t},e){t("updateContinentSelected",e)},updateCountrySelected({commit:t},e){t("updateCountrySelected",e)},updateCitySelectedButton({commit:t},e){t("updateCitySelectedButton",e)},updateCityHovered({commit:t},e){t("updateCityHovered",e)},updateCitySelected({commit:t},e){t("updateCitySelected",e)},updateTimeRange({commit:t},e){t("updateTimeRange",e)},updateLineHovered({commit:t},e){t("updateLineHovered",e)},updateLineClicked({commit:t},e){t("updateLineClicked",e)},updateTimelineOnDrag({commit:t},e){t("updateTimelineOnDrag",e)},updateIsBlackClicked({commit:t},e){t("updateIsBlackClicked",e)},updateMetroLinesCount({commit:t},e){t("updateMetroLinesCount",e)},updateCitiesCount({commit:t},e){t("updateCitiesCount",e)}},modules:{}});U.AVB("./data.json").then((t=>{t=t.filter((t=>void 0!==t["地铁线路"]));const e=U.mw4();t.forEach((t=>{t["原始经度"]=t["经度"],t["原始纬度"]=t["纬度"],[t["经度"],t["纬度"]]=e([t["经度"],t["纬度"]]);for(let i of t["地铁线路"])i["原始起点站经度"]=i["起点站经度"],i["原始起点站纬度"]=i["起点站纬度"],i["原始终点站经度"]=i["终点站经度"],i["原始终点站纬度"]=i["终点站纬度"],[i["起点站经度"],i["起点站纬度"]]=e([i["起点站经度"],i["起点站纬度"]]),[i["终点站经度"],i["终点站纬度"]]=e([i["终点站经度"],i["终点站纬度"]]),void 0!==i["中间站1经度"]&&(i["原始中间站1经度"]=i["中间站1经度"],i["原始中间站1纬度"]=i["中间站1纬度"],[i["中间站1经度"],i["中间站1纬度"]]=e([i["中间站1经度"],i["中间站1纬度"]]))})),Ft.dispatch("updateData",t)}));var Xt=Ft,Dt=i(8097);i(4415);(0,n.ri)(h).use(Xt).use(Ot).use(Dt.Z).mount("#app")},947:function(t,e,i){t.exports=i.p+"img/legendfive.08eb4e0c.svg"},6089:function(t,e,i){t.exports=i.p+"img/legendfour.5e0b5bae.svg"},3494:function(t,e,i){t.exports=i.p+"img/legendone.33785e72.svg"},1752:function(t,e,i){t.exports=i.p+"img/legendthree.693e9907.svg"},5413:function(t,e,i){t.exports=i.p+"img/legendtwo.d170b7c9.svg"},1553:function(t){t.exports="data:image/png;base64,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"},8129:function(t,e,i){t.exports=i.p+"img/logo-rgb.43e0b671.png"}},e={};function i(n){var l=e[n];if(void 0!==l)return l.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=t,function(){var t=[];i.O=function(e,n,l,s){if(!n){var a=1/0;for(d=0;d<t.length;d++){n=t[d][0],l=t[d][1],s=t[d][2];for(var r=!0,o=0;o<n.length;o++)(!1&s||a>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[o])}))?n.splice(o--,1):(r=!1,s<a&&(a=s));if(r){t.splice(d--,1);var h=l();void 0!==h&&(e=h)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[n,l,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){i.p=""}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var l,s,a=n[0],r=n[1],o=n[2],h=0;if(a.some((function(e){return 0!==t[e]}))){for(l in r)i.o(r,l)&&(i.m[l]=r[l]);if(o)var d=o(i)}for(e&&e(n);h<a.length;h++)s=a[h],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(d)},n=self["webpackChunkmetrov2"]=self["webpackChunkmetrov2"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2370)}));n=i.O(n)})();
//# sourceMappingURL=app.9b41154a.js.map